---
title:  "객체 지향의 SOLID 원칙 소개"
layout: single
categories: CS
tag: [Java, solid]
toc: true
author_profile: false
sidebar:
    nav: "docs"
---

# SOLID 원칙이란
5가지의 객체 지향의 코드 작성 원칙을 제시하는 방법이다.  
즉, 객체 지향의 특징에 맞추어 변경에 유연한 구조이며 가독성 좋게 만드는 것이 목적이다.  
반드시 5가지 원칙을 따라야하는 것은 아니고 기본틀에 따르지만 상황에 따라 유연하게 대처하는 것이 중요하다.  
5가지 원칙의 첫글자를 따와 SOLID라고 표현한다.
<br/>
<br/>
### SRP(Single Responsibility Principle) - 단일 책임 원칙
각 클래스는 하나의 책임만 갖고 있어야한다.
<br/>
<br/>
예문으로 빠르게 이해하자면
```java
public class UserService {
    public void saveUser(User user) {
        // 데이터 베이스에 유저 정보 저장
    }

    public void sendWelcomeEmail(User user) {
        // 유저에게 이메일 전송
    }

    public void logUserActivity(User user) {
        // 유저 활동 로그에 저장
    }
}
```
이 코드는 클래스 UserService가 성격이 다른 3개의 일을 수행한다.  
그래서 직관적으로 이 클래스의 역할을 이해하기 어렵다. (*SRP 위반*)
<br/>
<br/>
SRP에 준수하자면
```java
public class UserService {
    public void saveUser(User user) {
        // 데이터 베이스에 유저 정보 저장
    }
}

public class EmailService {
    public void sendWelcomeEmail(User user) {
        // 유저에게 이메일 전송
    }
}

public class UserActivityLogger {
    public void logUserActivity(User user) {
        // 유저 활동 로그에 저장
    }
}
```
이렇게 성격이 다른 일은 각각의 클래스에 분배한다.  

<div style="position: relative;">
  <span style="position: absolute; left: 0; top: 0;">장점</span>
  <ol style="margin-top: 20px; margin-bottom: 0; margin-left: 20px;">
    <li>가독성이 좋다</li>
    <li>상속시 확장에 용이하다</li>
    <li>필요에 따라 각 클래스가 재사용이 가능하다</li>
  </ol>
</div>
<br/>
### OCP(Open/Closed Principle) - 개방 폐쇄 원칙
각 클래스는 확장에는 열려있고 변경에는 닫혀있어야한다.    
즉, 클래스의 메서드 내부 코드등 원본 코드를 수정하지 말고 새로 클래스를 추가해야한다.
<br/>
<br/>
```java
public class ReportGenerator {
    public void generateReport(String type) {
        if (type.equals("PDF")) {
            // PDF 관련 코드
        } else if (type.equals("HTML")) {
            // HTML 관련 코드
        }
    }
}
```
이 코드는 새 타입 "XML"이 추가될 경우 else if를 추가하여 작성하기 때문에 해당 메서드는 매우 길어진다.  
원본 코드를 수정하게 되며 기존의 코드 "PDF", "HTML"에도 영향이 갈 수 있다 (*OCP 위반*)
<br/>
<br/>
OCP에 준수하자면  
```java
public interface Report {
    void generate();
}

public class PDFReport implements Report {
    @Override
    public void generate() {
         // PDF 관련 코드
    }
}

public class HTMLReport implements Report {
    @Override
    public void generate() {
         // HTML 관련 코드
    }
}

public class XMLReport implements Report {
    @Override
    public void generate() {
         // XML 관련코드
    }
}
```
인터페이스 또는 abstract를 이용하여 각 클래스를 구현하고  
새로운 것(XML)이 추가가 되면 메서드 수정이 아닌 새로운 클래스를 추가한다.


